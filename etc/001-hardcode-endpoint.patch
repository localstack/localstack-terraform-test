diff --git a/internal/conns/awsclient.go b/internal/conns/awsclient.go
index 1b833cb6ec..c1dcfecd3c 100644
--- a/internal/conns/awsclient.go
+++ b/internal/conns/awsclient.go
@@ -143,7 +143,7 @@ func (client *AWSClient) GlobalAcceleratorHostedZoneID() string {
 func (client *AWSClient) apiClientConfig(servicePackageName string) map[string]any {
 	m := map[string]any{
 		"aws_sdkv2_config": client.awsConfig,
-		"endpoint":         client.endpoints[servicePackageName],
+		"endpoint":         getLocalStackEndpoints()[servicePackageName],
 		"partition":        client.Partition,
 		"session":          client.Session,
 	}
diff --git a/internal/conns/config.go b/internal/conns/config.go
index 553e89335d..3b64f750e6 100644
--- a/internal/conns/config.go
+++ b/internal/conns/config.go
@@ -23,6 +23,9 @@ import (
 	"github.com/hashicorp/terraform-provider-aws/names"
 )

+const LOCALSTACK_ENDPOINT = "http://localhost:4566"
+const LOCALSTACK_S3_ENDPOINT = "http://s3.localhost.localstack.cloud:4566"
+
 type Config struct {
 	AccessKey                      string
 	AllowedAccountIds              []string
@@ -73,7 +76,7 @@ func (c *Config) ConfigureProvider(ctx context.Context, client *AWSClient) (*AWS
 		CallerName:                    "Terraform AWS Provider",
 		EC2MetadataServiceEnableState: c.EC2MetadataServiceEnableState,
 		ForbiddenAccountIds:           c.ForbiddenAccountIds,
-		IamEndpoint:                   c.Endpoints[names.IAM],
+		IamEndpoint:                   LOCALSTACK_ENDPOINT,
 		Insecure:                      c.Insecure,
 		HTTPClient:                    client.HTTPClient(),
 		HTTPProxy:                     c.HTTPProxy,
@@ -85,7 +88,7 @@ func (c *Config) ConfigureProvider(ctx context.Context, client *AWSClient) (*AWS
 		SecretKey:                     c.SecretKey,
 		SkipCredsValidation:           c.SkipCredsValidation,
 		SkipRequestingAccountId:       c.SkipRequestingAccountId,
-		StsEndpoint:                   c.Endpoints[names.STS],
+		StsEndpoint:                   LOCALSTACK_ENDPOINT,
 		SuppressDebugLog:              c.SuppressDebugLog,
 		Token:                         c.Token,
 		UseDualStackEndpoint:          c.UseDualStackEndpoint,
@@ -195,7 +198,7 @@ func (c *Config) ConfigureProvider(ctx context.Context, client *AWSClient) (*AWS
 	client.awsConfig = &cfg
 	client.clients = make(map[string]any, 0)
 	client.conns = make(map[string]any, 0)
-	client.endpoints = c.Endpoints
+	client.endpoints = getLocalStackEndpoints()
 	client.s3UsePathStyle = c.S3UsePathStyle
 	client.s3UsEast1RegionalEndpoint = c.S3UsEast1RegionalEndpoint
 	client.stsRegion = c.STSRegion
@@ -213,3 +216,15 @@ func baseSeverityToSdkSeverity(s basediag.Severity) diag.Severity {
 		return -1
 	}
 }
+
+func getLocalStackEndpoints() map[string]string {
+	var localstackEndpoints = map[string]string{}
+	for _, name := range names.Aliases() {
+		if name == "s3" {
+			localstackEndpoints[name] = LOCALSTACK_S3_ENDPOINT
+		} else {
+			localstackEndpoints[name] = LOCALSTACK_ENDPOINT
+		}
+	}
+	return localstackEndpoints
+}
